# ğŸ¢ Sucursales API

API REST para la gestiÃ³n integral de sucursales empresariales, construida con **Spring Boot** siguiendo los principios de **Arquitectura Hexagonal** (Puertos y Adaptadores) y **Domain-Driven Design (DDD)**.

## ğŸ“‹ Tabla de Contenidos

- [CaracterÃ­sticas](#-caracterÃ­sticas)
- [TecnologÃ­as](#-tecnologÃ­as)
- [Arquitectura](#-arquitectura)
- [MÃ³dulos del Sistema](#-mÃ³dulos-del-sistema)
- [Requisitos Previos](#-requisitos-previos)
- [InstalaciÃ³n](#-instalaciÃ³n)
- [ConfiguraciÃ³n](#-configuraciÃ³n)
- [EjecuciÃ³n](#-ejecuciÃ³n)
- [API Endpoints](#-api-endpoints)
- [Estructura del Proyecto](#-estructura-del-proyecto)
- [Seguridad y AutenticaciÃ³n](#-seguridad-y-autenticaciÃ³n)

---

## âœ¨ CaracterÃ­sticas

- âœ… **Arquitectura Hexagonal** (Puertos y Adaptadores)
- âœ… **Domain-Driven Design (DDD)** con Value Objects y Agregados
- âœ… **AutenticaciÃ³n JWT** (JSON Web Tokens)
- âœ… **RESTful API** con operaciones CRUD completas
- âœ… **Validaciones robustas** en capa de dominio
- âœ… **Manejo global de excepciones**
- âœ… **GestiÃ³n de archivos** (imÃ¡genes de sucursales)
- âœ… **Base de datos relacional** MySQL
- âœ… **Spring Security** configurado
- âœ… **8 mÃ³dulos** independientes y escalables

---

## ğŸ›  TecnologÃ­as

| TecnologÃ­a | VersiÃ³n | PropÃ³sito |
|------------|---------|-----------|
| **Java** | 17 | Lenguaje de programaciÃ³n |
| **Spring Boot** | 3.5.7 | Framework principal |
| **Spring Data JPA** | 3.5.7 | Persistencia de datos |
| **Spring Security** | 6.x | Seguridad y autenticaciÃ³n |
| **MySQL** | 8.x | Base de datos relacional |
| **JWT (JJWT)** | 0.12.3 | Tokens de autenticaciÃ³n |
| **Lombok** | Latest | ReducciÃ³n de boilerplate |
| **Maven** | 3.x | GestiÃ³n de dependencias |
| **Hibernate** | 6.x | ORM |

---

## ğŸ— Arquitectura

Este proyecto implementa **Arquitectura Hexagonal** con las siguientes capas:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         INFRASTRUCTURE LAYER            â”‚
â”‚  (Controllers, Persistence, Config)     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      APPLICATION LAYER            â”‚ â”‚
â”‚  â”‚  (Use Cases, Services, DTOs)      â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚      DOMAIN LAYER           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (Entities, Value Objects,  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   Business Logic, Ports)    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Principios Aplicados

- **InversiÃ³n de Dependencias**: Las capas externas dependen de las internas
- **SeparaciÃ³n de Responsabilidades**: Cada capa tiene un propÃ³sito Ãºnico
- **Puertos y Adaptadores**: Interfaces que definen contratos entre capas
- **Value Objects**: Objetos inmutables con validaciÃ³n encapsulada
- **Agregados**: Entidades con lÃ­mites claros de consistencia
- **Use Cases**: LÃ³gica de aplicaciÃ³n independiente de frameworks

---

## ğŸ“¦ MÃ³dulos del Sistema

### 1. ğŸ” **Auth** (AutenticaciÃ³n)
Sistema de autenticaciÃ³n con JWT para login/logout y generaciÃ³n de tokens.

### 2. ğŸª **Sucursales**
GestiÃ³n completa de sucursales con coordenadas, direcciones y telÃ©fonos.

**Value Objects**: `SucursalId`, `Coordenadas`, `Direccion`, `TelefonoPrincipal`

### 3. ğŸ•’ **Horarios de Sucursal**
AdministraciÃ³n de horarios de operaciÃ³n por dÃ­a de la semana.

**Value Objects**: `HorarioSucursalId`, `DiaSemana`, `HoraApertura`, `HoraCierre`

### 4. ğŸ“ **Contactos de Sucursal**
Registro de mÃºltiples contactos por sucursal (WhatsApp, email, etc.).

**Value Objects**: `ContactoSucursalId`, `NumeroContacto`, `TipoContacto`

### 5. ğŸ‘¥ **Personal**
GestiÃ³n de empleados asignados a sucursales.

**Value Objects**: `PersonalId`, `NombreCompleto`, `Cargo`, `CorreoInstitucional`

### 6. ğŸ“± **TelÃ©fonos del Personal**
AdministraciÃ³n de nÃºmeros telefÃ³nicos de empleados.

**Value Objects**: `TelefonoPersonalId`, `NumeroTelefono`, `TipoTelefono`

### 7. ğŸ¢ **NÃºmeros Corporativos**
GestiÃ³n de nÃºmeros corporativos asignables a empleados.

**Value Objects**: `NumeroCorporativoId`, `Numero`

### 8. ğŸ–¼ï¸ **ImÃ¡genes de Sucursal**
Upload y gestiÃ³n de imÃ¡genes asociadas a sucursales.

**Value Objects**: `ImagenSucursalId`, `NombreArchivo`, `RutaArchivo`, `Descripcion`

---

## ğŸ“‹ Requisitos Previos

- **Java JDK 17** o superior
- **Maven 3.6+**
- **MySQL 8.0+**
- **Git**

---

## ğŸš€ InstalaciÃ³n

### 1. Clonar el repositorio

```bash
git clone <url-del-repositorio>
cd sucursales-api
```

### 2. Configurar la base de datos MySQL

```sql
CREATE DATABASE sucursales_db;
```

### 3. Configurar credenciales

Editar `src/main/resources/application.properties`:

```properties
spring.datasource.username=tu_usuario
spring.datasource.password=tu_contraseÃ±a
```

### 4. Instalar dependencias

```bash
mvn clean install
```

---

## âš™ï¸ ConfiguraciÃ³n

### application.properties

```properties
# AplicaciÃ³n
spring.application.name=Sucursales API

# Base de Datos
spring.datasource.url=jdbc:mysql://localhost:3306/sucursales_db?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=root

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Servidor
server.port=8080

# JWT
jwt.secret=tu_clave_secreta_segura
jwt.expiration=86400000

# File Upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
```

---

## â–¶ï¸ EjecuciÃ³n

### Usando Maven

```bash
mvn spring-boot:run
```

### Usando el JAR

```bash
mvn clean package
java -jar target/sucursales-api-0.0.1-SNAPSHOT.jar
```

**La aplicaciÃ³n estarÃ¡ disponible en**: `http://localhost:8080`

---

## ğŸ“¡ API Endpoints

### ğŸ” AutenticaciÃ³n

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| `POST` | `/api/auth/login` | Iniciar sesiÃ³n (obtener JWT) | âŒ |
| `POST` | `/api/auth/logout` | Cerrar sesiÃ³n | âœ… |

### ğŸª Sucursales

| MÃ©todo | Endpoint | DescripciÃ³n | Auth |
|--------|----------|-------------|------|
| `POST` | `/api/sucursales` | Crear sucursal | âœ… |
| `GET` | `/api/sucursales/{id}` | Obtener por ID | âœ… |
| `GET` | `/api/sucursales?onlyActive=true` | Solo activas | âœ… |
| `PUT` | `/api/sucursales/{id}` | Actualizar | âœ… |
| `PATCH` | `/api/sucursales/{id}/deactivate` | Desactivar | âœ… |
| `DELETE` | `/api/sucursales/{id}` | Eliminar | âœ… |

### Otros Endpoints

Ver documentaciÃ³n completa en [ENDPOINTS.md](./ENDPOINTS.md) que incluye:
- ğŸ•’ Horarios de Sucursal (5 endpoints)
- ğŸ“ Contactos de Sucursal (5 endpoints)
- ğŸ‘¥ Personal (7 endpoints)
- ğŸ“± TelÃ©fonos del Personal (5 endpoints)
- ğŸ¢ NÃºmeros Corporativos (9 endpoints)
- ğŸ–¼ï¸ ImÃ¡genes de Sucursal (5 endpoints)

**Total: 45+ endpoints RESTful**

---

## ğŸ” Seguridad y AutenticaciÃ³n

### JWT (JSON Web Tokens)

La API utiliza JWT para autenticaciÃ³n:

1. **Login**: Enviar credenciales a `/api/auth/login`
2. **Token**: El servidor responde con un JWT vÃ¡lido por 24 horas
3. **Uso**: Incluir el token en cada peticiÃ³n:

```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Ejemplo de Login

**Request**:
```json
POST /api/auth/login
Content-Type: application/json

{
  "correoInstitucional": "usuario@empresa.com",
  "contrasena": "password123"
}
```

**Response**:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "type": "Bearer",
  "correoInstitucional": "usuario@empresa.com"
}
```

### Endpoints PÃºblicos vs Protegidos

- **PÃºblico**: `/api/auth/login`
- **Protegidos**: Todos los demÃ¡s requieren JWT en el header `Authorization`

---

## ğŸ“ Estructura del Proyecto

```
src/
â””â”€â”€ main/
    â”œâ”€â”€ java/
    â”‚   â””â”€â”€ com/empresa/sucursales_api/
    â”‚       â”œâ”€â”€ domain/
    â”‚       â”‚   â”œâ”€â”€ sucursal/
    â”‚       â”‚   â”‚   â”œâ”€â”€ model/
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Sucursal.java                # Entidad de dominio (agregado)
    â”‚       â”‚   â”‚   â””â”€â”€ valueobject/
    â”‚       â”‚   â”‚       â”œâ”€â”€ SucursalId.java              # VO: identificador Ãºnico
    â”‚       â”‚   â”‚       â”œâ”€â”€ Coordenadas.java             # VO: latitud/longitud con validaciÃ³n
    â”‚       â”‚   â”‚       â”œâ”€â”€ Direccion.java               # VO: direcciÃ³n con validaciÃ³n
    â”‚       â”‚   â”‚       â””â”€â”€ TelefonoPrincipal.java       # VO: telÃ©fono con validaciÃ³n de longitud
    â”‚       â”‚   â”‚
    â”‚       â”‚   â”œâ”€â”€ horariosucursal/
    â”‚       â”‚   â”‚   â”œâ”€â”€ model/
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ HorarioSucursal.java         # Entidad de dominio (agregado)
    â”‚       â”‚   â”‚   â””â”€â”€ valueobject/
    â”‚       â”‚   â”‚       â”œâ”€â”€ HorarioSucursalId.java       # VO: identificador Ãºnico
    â”‚       â”‚   â”‚       â”œâ”€â”€ DiaSemana.java               # Enum: dÃ­as de la semana
    â”‚       â”‚   â”‚       â”œâ”€â”€ HoraApertura.java            # VO: hora de apertura con validaciÃ³n
    â”‚       â”‚   â”‚       â””â”€â”€ HoraCierre.java              # VO: hora de cierre con validaciÃ³n
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ contactosucursal/
    â”‚       â”‚       â”œâ”€â”€ model/
    â”‚       â”‚       â”‚   â””â”€â”€ ContactoSucursal.java        # Entidad de dominio (agregado)
    â”‚       â”‚       â”œâ”€â”€ valueobject/
    â”‚       â”‚       â”‚   â”œâ”€â”€ ContactoSucursalId.java      # VO: identificador Ãºnico
    â”‚       â”‚       â”‚   â”œâ”€â”€ NumeroContacto.java          # VO: nÃºmero con validaciÃ³n
    â”‚       â”‚       â”‚   â””â”€â”€ TipoContacto.java            # VO: tipo con validaciÃ³n
    â”‚       â”‚       â””â”€â”€ port/
    â”‚       â”‚           â””â”€â”€ out/
    â”‚       â”‚               â””â”€â”€ ContactoSucursalRepositoryPort.java
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ personal/
    â”‚       â”‚       â”œâ”€â”€ model/
    â”‚       â”‚       â”‚   â””â”€â”€ Personal.java                # Entidad de dominio
    â”‚       â”‚       â”œâ”€â”€ valueobject/
    â”‚       â”‚       â”‚   â”œâ”€â”€ PersonalId.java              # VO: identificador Ãºnico
    â”‚       â”‚       â”‚   â”œâ”€â”€ NombreCompleto.java          # VO: nombre con validaciÃ³n
    â”‚       â”‚       â”‚   â”œâ”€â”€ Cargo.java                   # VO: cargo opcional
    â”‚       â”‚       â”‚   â””â”€â”€ CorreoInstitucional.java     # VO: correo con validaciÃ³n
    â”‚       â”‚       â””â”€â”€ port/
    â”‚       â”‚           â””â”€â”€ out/
    â”‚       â”‚               â””â”€â”€ PersonalRepositoryPort.java
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ telefonopersonal/
    â”‚       â”‚       â”œâ”€â”€ model/
    â”‚       â”‚       â”‚   â””â”€â”€ TelefonoPersonal.java        # Entidad de dominio
    â”‚       â”‚       â”œâ”€â”€ valueobject/
    â”‚       â”‚       â”‚   â”œâ”€â”€ TelefonoPersonalId.java      # VO: identificador Ãºnico
    â”‚       â”‚       â”‚   â”œâ”€â”€ NumeroTelefono.java          # VO: nÃºmero con validaciÃ³n
    â”‚       â”‚       â”‚   â””â”€â”€ TipoTelefono.java            # VO: tipo con validaciÃ³n
    â”‚       â”‚       â””â”€â”€ port/
    â”‚       â”‚           â””â”€â”€ out/
    â”‚       â”‚               â””â”€â”€ TelefonoPersonalRepositoryPort.java
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ numerocorporativo/
    â”‚       â”‚       â”œâ”€â”€ model/
    â”‚       â”‚       â”‚   â””â”€â”€ NumeroCorporativo.java       # Entidad de dominio
    â”‚       â”‚       â”œâ”€â”€ valueobject/
    â”‚       â”‚       â”‚   â”œâ”€â”€ NumeroCorporativoId.java     # VO: identificador Ãºnico
    â”‚       â”‚       â”‚   â””â”€â”€ Numero.java                  # VO: nÃºmero con validaciÃ³n Ãºnica
    â”‚       â”‚       â””â”€â”€ port/
    â”‚       â”‚           â””â”€â”€ out/
    â”‚       â”‚               â””â”€â”€ NumeroCorporativoRepositoryPort.java
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ imagensucursal/
    â”‚       â”‚       â”œâ”€â”€ model/
    â”‚       â”‚       â”‚   â””â”€â”€ ImagenSucursal.java          # Entidad de dominio
    â”‚       â”‚       â”œâ”€â”€ valueobject/
    â”‚       â”‚       â”‚   â”œâ”€â”€ ImagenSucursalId.java        # VO: identificador Ãºnico
    â”‚       â”‚       â”‚   â”œâ”€â”€ NombreArchivo.java           # VO: nombre con validaciÃ³n
    â”‚       â”‚       â”‚   â”œâ”€â”€ RutaArchivo.java             # VO: ruta con validaciÃ³n
    â”‚       â”‚       â”‚   â””â”€â”€ Descripcion.java             # VO: descripciÃ³n opcional
    â”‚       â”‚       â””â”€â”€ port/
    â”‚       â”‚           â””â”€â”€ out/
    â”‚       â”‚               â””â”€â”€ ImagenSucursalRepositoryPort.java
    â”‚       â”‚
    â”‚       â”œâ”€â”€ application/
    â”‚       â”‚   â”œâ”€â”€ auth/
    â”‚       â”‚   â”‚   â”œâ”€â”€ dto/
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LoginRequest.java            # DTO de entrada para login
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ LoginResponse.java           # DTO de salida con token
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ LogoutResponse.java          # DTO de salida para logout
    â”‚       â”‚   â”‚   â”œâ”€â”€ port/
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ in/
    â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AuthUseCase.java         # Caso de uso de autenticaciÃ³n
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ out/
    â”‚       â”‚   â”‚   â”‚       â””â”€â”€ (Usa PersonalRepositoryPort)
    â”‚       â”‚   â”‚   â””â”€â”€ service/
    â”‚       â”‚   â”‚       â””â”€â”€ AuthService.java             # ImplementaciÃ³n de autenticaciÃ³n
    â”‚       â”‚   â”‚
    â”‚       â”‚   â”œâ”€â”€ sucursal/
    â”‚       â”‚   â”‚   â”œâ”€â”€ dto/
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SucursalRequest.java         # DTO de entrada para crear
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ SucursalResponse.java        # DTO de salida
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ SucursalUpdateRequest.java   # DTO de entrada para actualizar
    â”‚       â”‚   â”‚   â”œâ”€â”€ port/
    â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ in/                          # Puertos de entrada (Use Cases)
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateSucursalUseCase.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GetSucursalUseCase.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UpdateSucursalUseCase.java
    â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DeleteSucursalUseCase.java
    â”‚       â”‚   â”‚   â”‚   â””â”€â”€ out/                         # Puertos de salida (repositorio)
    â”‚       â”‚   â”‚   â”‚       â””â”€â”€ SucursalRepositoryPort.java
    â”‚       â”‚   â”‚   â””â”€â”€ service/
    â”‚       â”‚   â”‚       â””â”€â”€ SucursalService.java         # ImplementaciÃ³n de casos de uso
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€â”€ horariosucursal/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ HorarioSucursalRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ HorarioSucursalResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ HorarioSucursalUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ CreateHorarioSucursalUseCase.java
    â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ GetHorarioSucursalUseCase.java
    â”‚       â”‚       â”‚   â”‚   â”œâ”€â”€ UpdateHorarioSucursalUseCase.java
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ DeleteHorarioSucursalUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ HorarioSucursalRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ HorarioSucursalService.java
    â”‚       â”‚
    â”‚       â”‚   â””â”€â”€ contactosucursal/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ ContactoSucursalRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ ContactoSucursalResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ ContactoSucursalUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ManageContactoSucursalUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ ContactoSucursalRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ ContactoSucursalService.java
    â”‚       â”‚
    â”‚       â”‚   â””â”€â”€ personal/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ PersonalRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ PersonalResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ PersonalUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ManagePersonalUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ PersonalRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ PersonalService.java
    â”‚       â”‚
    â”‚       â”‚   â””â”€â”€ telefonopersonal/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ TelefonoPersonalRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ TelefonoPersonalResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ TelefonoPersonalUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ManageTelefonoPersonalUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ TelefonoPersonalRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ TelefonoPersonalService.java
    â”‚       â”‚
    â”‚       â”‚   â””â”€â”€ numerocorporativo/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ NumeroCorporativoRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ NumeroCorporativoResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ NumeroCorporativoUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ManageNumeroCorporativoUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ NumeroCorporativoRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ NumeroCorporativoService.java
    â”‚       â”‚
    â”‚       â”‚   â””â”€â”€ imagensucursal/
    â”‚       â”‚       â”œâ”€â”€ dto/
    â”‚       â”‚       â”‚   â”œâ”€â”€ ImagenSucursalRequest.java
    â”‚       â”‚       â”‚   â”œâ”€â”€ ImagenSucursalResponse.java
    â”‚       â”‚       â”‚   â””â”€â”€ ImagenSucursalUpdateRequest.java
    â”‚       â”‚       â”œâ”€â”€ port/
    â”‚       â”‚       â”‚   â”œâ”€â”€ in/
    â”‚       â”‚       â”‚   â”‚   â””â”€â”€ ManageImagenSucursalUseCase.java
    â”‚       â”‚       â”‚   â””â”€â”€ out/
    â”‚       â”‚       â”‚       â””â”€â”€ ImagenSucursalRepositoryPort.java
    â”‚       â”‚       â””â”€â”€ service/
    â”‚       â”‚           â””â”€â”€ ImagenSucursalService.java
    â”‚       â”‚
    â”‚       â””â”€â”€ infrastructure/
    â”‚           â”œâ”€â”€ auth/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ AuthController.java          # Controlador de autenticaciÃ³n
    â”‚           â”‚   â””â”€â”€ security/
    â”‚           â”‚       â”œâ”€â”€ JwtAuthenticationFilter.java # Filtro JWT
    â”‚           â”‚       â”œâ”€â”€ JwtUtil.java                 # Utilidad para manejar JWT
    â”‚           â”‚       â””â”€â”€ CustomUserDetailsService.java # Servicio de carga de usuarios
    â”‚           â”‚
    â”‚           â”œâ”€â”€ sucursal/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ SucursalController.java      # Controlador REST
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ SucursalEntity.java          # Entidad JPA
    â”‚           â”‚       â”œâ”€â”€ SucursalJpaRepository.java   # Repositorio Spring Data
    â”‚           â”‚       â”œâ”€â”€ SucursalMapper.java          # Mapper Domain <-> Entity
    â”‚           â”‚       â””â”€â”€ SucursalPersistenceAdapter.java  # ImplementaciÃ³n del puerto
    â”‚           â”‚
    â”‚           â”œâ”€â”€ horariosucursal/
    â”‚           â”‚   â”œâ”€â”€ controllers/
    â”‚           â”‚   â”‚   â””â”€â”€ HorarioSucursalController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ HorarioSucursalEntity.java
    â”‚           â”‚       â”œâ”€â”€ HorarioSucursalJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ HorarioSucursalMapper.java
    â”‚           â”‚       â””â”€â”€ HorarioSucursalPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â”œâ”€â”€ contactosucursal/
    â”‚           â”‚   â”œâ”€â”€ controllers/
    â”‚           â”‚   â”‚   â””â”€â”€ ContactoSucursalController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ ContactoSucursalEntity.java
    â”‚           â”‚       â”œâ”€â”€ ContactoSucursalJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ ContactoSucursalMapper.java
    â”‚           â”‚       â””â”€â”€ ContactoSucursalPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â”œâ”€â”€ personal/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ PersonalController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ PersonalEntity.java
    â”‚           â”‚       â”œâ”€â”€ PersonalJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ PersonalMapper.java
    â”‚           â”‚       â””â”€â”€ PersonalPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â”œâ”€â”€ telefonopersonal/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ TelefonoPersonalController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ TelefonoPersonalEntity.java
    â”‚           â”‚       â”œâ”€â”€ TelefonoPersonalJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ TelefonoPersonalMapper.java
    â”‚           â”‚       â””â”€â”€ TelefonoPersonalPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â”œâ”€â”€ numerocorporativo/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ NumeroCorporativoController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ NumeroCorporativoEntity.java
    â”‚           â”‚       â”œâ”€â”€ NumeroCorporativoJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ NumeroCorporativoMapper.java
    â”‚           â”‚       â””â”€â”€ NumeroCorporativoPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â”œâ”€â”€ imagensucursal/
    â”‚           â”‚   â”œâ”€â”€ controller/
    â”‚           â”‚   â”‚   â””â”€â”€ ImagenSucursalController.java
    â”‚           â”‚   â””â”€â”€ persistence/
    â”‚           â”‚       â”œâ”€â”€ ImagenSucursalEntity.java
    â”‚           â”‚       â”œâ”€â”€ ImagenSucursalJpaRepository.java
    â”‚           â”‚       â”œâ”€â”€ ImagenSucursalMapper.java
    â”‚           â”‚       â””â”€â”€ ImagenSucursalPersistenceAdapter.java
    â”‚           â”‚
    â”‚           â””â”€â”€ config/
    â”‚               â”œâ”€â”€ SucursalConfig.java              # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ HorarioSucursalConfig.java       # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ ContactoSucursalConfig.java      # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ PersonalConfig.java              # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ TelefonoPersonalConfig.java      # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ NumeroCorporativoConfig.java     # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ ImagenSucursalConfig.java        # ConfiguraciÃ³n de beans
    â”‚               â”œâ”€â”€ SecurityConfig.java              # ConfiguraciÃ³n de seguridad (dev)
    â”‚               â””â”€â”€ GlobalExceptionHandler.java      # Manejo de excepciones global
    â”‚
    â””â”€â”€ resources/
        â”œâ”€â”€ application.properties                       # ConfiguraciÃ³n de la aplicaciÃ³n
        â””â”€â”€ schema.sql                                   # Script SQL para crear tablas
    
src/main/uploads/                                         # Directorio para archivos de imÃ¡genes
    â””â”€â”€ sucursales/                                       # Subdirectorio especÃ­fico para imÃ¡genes de sucursales
```

---

## ğŸ“Š Resumen del Proyecto

| CaracterÃ­stica | Valor |
|----------------|-------|
| **MÃ³dulos** | 8 (Auth, Sucursales, Horarios, Contactos, Personal, TelÃ©fonos, NÃºmeros Corp., ImÃ¡genes) |
| **Endpoints** | 45+ endpoints RESTful |
| **Arquitectura** | Hexagonal (Puertos y Adaptadores) |
| **PatrÃ³n de DiseÃ±o** | Domain-Driven Design (DDD) |
| **Base de Datos** | MySQL con relaciones y constraints |
| **AutenticaciÃ³n** | JWT (JSON Web Tokens) |
| **Framework** | Spring Boot 3.5.7 |
| **Java Version** | 17 |

---

## ğŸ¯ PrÃ³ximos Pasos

DespuÃ©s de ejecutar la aplicaciÃ³n:

1. âœ… Probar el endpoint de login: `POST /api/auth/login`
2. âœ… Usar el token JWT recibido en las demÃ¡s peticiones
3. âœ… Crear sucursales y sus datos relacionados
4. âœ… Subir imÃ¡genes de sucursales
5. âœ… Consultar el archivo [ENDPOINTS.md](./ENDPOINTS.md) para ver todos los endpoints disponibles

---

## ğŸ“ Notas Importantes

- **ContraseÃ±as**: Las contraseÃ±as del Personal estÃ¡n encriptadas con BCrypt
- **Tokens JWT**: Expiran despuÃ©s de 24 horas (configurable)
- **Archivos**: Las imÃ¡genes se almacenan en `src/main/uploads/sucursales/`
- **Base de Datos**: Se crea automÃ¡ticamente si no existe (con `createDatabaseIfNotExist=true`)
- **Seguridad**: La configuraciÃ³n actual es para desarrollo, ajustar para producciÃ³n

---

## ğŸ‘¨â€ğŸ’» Desarrollo

Este proyecto sigue las mejores prÃ¡cticas de:
- Clean Architecture
- SOLID Principles
- Domain-Driven Design
- Hexagonal Architecture
- REST API Design

---

**Desarrollado con â¤ï¸ usando Spring Boot y Arquitectura Hexagonal**
